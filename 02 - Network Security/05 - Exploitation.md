
![[Pasted image 20230220215152.png]]


`Ncrack` and `Medusa` is use to exploit weak and default password on ftp, SSH, samba, etc.

`Hydra` and `Patator`

`Eyewitness`  -- to check default creds.

`Rsmangler` - to generate custom wordlist

`CeWL` - scrape website to generate wordlist

`Mentalist` - GUI based wordlist generator

---

Lan Manager (LM)
![[Pasted image 20230227190539.png]]![[Pasted image 20230227190902.png]]

![[Pasted image 20230227190922.png]]

Steps:
1. `msf > use auxiliary/server/capture/smb` setup SMB listener
2. force the victim to send us authentication request, one way to achieve it is ![[Pasted image 20230227192429.png]]
3. IP is our fake server address
4. Listener will catch and save the hash

There will be no randomness because se set the challenge

![[Pasted image 20230227192736.png]]


rcracki_mt can be used for rainbow attack against the captured hashes.
![[Pasted image 20230227193152.png]]

to fasten the process we crack first 8-bytes using rcrack_mt and the remaining using `halflm_second.rb` script inside the `metasploit-framework/tools/password` folder.

![[Pasted image 20230227193421.png]]

passwd is all UPPERCASE but it might be different in real. so we can use this to find the case sensitive passwd
![[Pasted image 20230227193538.png]]


NTLMv2 introduced to overcome the holes.
![[Pasted image 20230227193841.png]]


## SMB Relay

Metasploit module `smb_relay` and Impacket tool -> `smbrelayx.py`
or `responder` can be used.

`exploit/windows/smb/smb_relay`

![[Pasted image 20230227194119.png]]

The network host need to be Admin for this attack to work
![[Pasted image 20230227194326.png]]

---
## Client-side exploitation

`firefox_pdfjs_privilege_escalation` Metasploit module 
http://www.zerodayinitiative.com/advisories/ZDI-15-110/

create the exploitable server and once someone visits, boom, we will get a shell.

another module is
`abode_flash_hacking_team_uaf`

---
## Remote-Side Exploitation 
`ms08_067_netapi`


---
SMB Relay attack

step:
1. Start the SMB relay listener using Metasploit
2. ![[Pasted image 20230228193027.png]]
3. ![[Pasted image 20230228193106.png]]